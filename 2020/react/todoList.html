<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
</head>

<body>
    <script src="https://unpkg.com/react@16/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    <div id="root"></div>

    <script type="text/babel">
        class TodoForm extends React.Component {
            constructor(props) {
                super(props);
                this.state = {

                }
            }
            render() {
                return (
                    <div className="mt-2 mb-2">
                        <form>
                            <div className="row">

                                <div className="col">
                                    <input type="text" className="form-control" placeholder="事件名" />
                                </div>
                                <div className="col">
                                    <input type="date" className="form-control" placeholder="时间" />
                                </div>
                                <div className="col">
                                    <input type="text" className="form-control" placeholder="预计用时" />
                                </div>
                                <button type="button" className="btn btn-primary">添加</button>
                            </div>

                        </form>
                    </div>
                )
            }
        }
        class TodoTable extends React.Component {
            constructor(props) {
                super(props);
                this.state = {
                    todoList: [
                        {
                            id: 1,
                            name: '吃饭',
                            time: '2020-04-16',
                            count: 2,
                            isActice: false
                        }, {
                            id: 2,
                            name: '睡觉',
                            time: '2020-04-17',
                            count: 3,
                            isActice: false
                        }, {
                            id: 3,
                            name: '敲代码',
                            time: '2020-04-16',
                            count: 4,
                            isActice: false
                        }
                    ]
                }
            }
            del(id) {
                console.log(id)
                let list = this.state.todoList;
                list = list.filter((item, index) => {
                    if (item.id != id) {
                        return item
                    }
                })
                this.setState({
                    todoList: list
                })
                console.log(list)
            }
            render() {
                let todoList = this.state.todoList.map((item, index) => {
                    return (
                        <tr key={item.id}>
                            <th scope="row">
                                <input type="checkbox" />
                            </th>
                            <td>{item.name}</td>
                            <td>{item.time}</td>
                            <td>{item.count}</td>
                            <th scope="col">
                                <button onClick={this.del.bind(this, item.id)} type="button" className="btn btn-sm btn-danger">删除</button>
                            </th>
                        </tr>
                    )
                })
                return (
                    <div>
                        <table className="table table-dark">
                            <thead>
                                <tr>
                                    <th scope="col">#</th>
                                    <th scope="col">待办事项</th>
                                    <th scope="col">待办时间</th>
                                    <th scope="col">待办用时</th>
                                    <th scope="col">操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                {todoList}
                            </tbody>
                        </table>
                    </div>
                )
            }
        }
        class TodoList extends React.Component {
            constructor(props) {
                super(props);
                this.state = {

                }
            }
            render() {
                return (
                    <div className="container">
                        <div>
                            <TodoForm />
                        </div>
                        <div>
                            <TodoTable />
                        </div>

                    </div>
                )
            }
        }
        ReactDOM.render(
            <TodoList />, document.querySelector('#root')
        )
    </script>
</body>

</html>